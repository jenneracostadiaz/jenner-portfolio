---
import '@fontsource-variable/inter';
import '../styles/global.css';
import { SITE_DESCRIPTION, SITE_IMAGE, SITE_TITLE } from '../consts';
import BaseHead from '../components/heads/BaseHead.astro';
import Header from '../components/navigation/Header.astro';
import Footer from '../components/navigation/Footer.astro';
import Analytics from '@vercel/analytics/astro';
import SpeedInsights from '@vercel/speed-insights/astro';
import { getLangFromUrl } from '../i18n/utils';

const { title, description, image } = Astro.props;

const pageTitle = title ? `${title} | ${SITE_TITLE}` : SITE_TITLE;
const pageDescription = description || SITE_DESCRIPTION;
const ogImage = image || SITE_IMAGE;

const lang = getLangFromUrl(Astro.url);
---

<!doctype html>
<html lang={lang}>
    <head>
        <BaseHead title={pageTitle} description={pageDescription} image={ogImage} />
    </head>
    <body class="bg-neutral-900 text-neutral-300">
        <Header />
        <slot />
        <Footer />
        <Analytics />
        <SpeedInsights />
    </body>
</html>
